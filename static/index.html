<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
  <title>作业上交统计</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="/styles.css"/>
</head>
<body>
<header>
  <h1 onclick="navigateTo('/')">📘 作业统计</h1>
  <div class="dock-outer">
    <nav class="dock-panel" id="subjectNav"></nav>
  </div>
  <div class="header-actions">
    <div class="header-dock">
      <button id="classSelectBtn" class="dock-item dock-item--action" style="--dock-scale:1" onclick="toggleClassMenu()">
        <div class="dock-label dock-label-bottom">班级</div>
        <div class="dock-icon" id="classSelectIcon">01</div>
      </button>
      <div id="classMenu" class="dock-menu hidden"></div>

      <button id="backBtn" class="dock-item dock-item--action hidden" style="--dock-scale:1">
        <div class="dock-label dock-label-bottom">返回</div>
        <div class="dock-icon">←</div>
      </button>
      <button id="statsBtn" class="dock-item dock-item--action hidden" style="--dock-scale:1">
        <div class="dock-label dock-label-bottom">统计</div>
        <div class="dock-icon">📊</div>
      </button>
      <button id="logoutBtn" class="dock-item dock-item--action hidden" style="--dock-scale:1">
        <div class="dock-label dock-label-bottom">退出</div>
        <div class="dock-icon">🚪</div>
      </button>
      <button id="loginBtn" class="dock-item dock-item--action" style="--dock-scale:1">
        <div class="dock-label dock-label-bottom">登录</div>
        <div class="dock-icon">🔑</div>
      </button>
    </div>
  </div>
</header>

<main id="app"></main>

<!-- 登录弹窗 -->
<div id="loginModal" class="modal hidden">
  <div class="modal-content">
    <h3 id="loginTitle">选择身份</h3>
    <input id="role" type="hidden" value=""/>
    <div id="loginStepRole" class="login-step">
      <button class="primary" onclick="chooseLoginRole('guest')">访客</button>
      <button class="primary" onclick="chooseLoginRole('teacher')">教师</button>
      <button class="primary" onclick="chooseLoginRole('admin')">管理员</button>
    </div>
    <div id="loginStepCred" class="login-step hidden">
      <div id="nameWrap" class="hidden">
        <input id="name" placeholder="教师姓名"/>
      </div>
      <input id="password" type="password" placeholder="密码"/>
      <div class="login-actions">
        <button onclick="backToRoleSelect()">返回</button>
        <button class="primary" onclick="login()">登录</button>
      </div>
    </div>
  </div>
</div>

<script src="/icons.js"></script>
<script src="/app.js"></script>
</body>
</html>
